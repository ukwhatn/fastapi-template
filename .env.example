# ==============================================
# FastAPI Template 環境変数設定
# ==============================================

# ========================================
# 基本設定
# ========================================
ENV_MODE=development

# ========================================
# データベース設定
# ========================================
# これらの設定からDATABASE_URLが自動構築されます
# POSTGRES_HOSTでローカルDB/外部DBaaSを切り替え

# PostgreSQL接続情報
POSTGRES_USER=user
POSTGRES_PASSWORD=password
POSTGRES_DB=main
POSTGRES_HOST=db          # ローカルDB: "db", 外部DBaaS: "db.xxx.supabase.co"など
POSTGRES_PORT=5432

# 使用例:
# - ローカルDB使用時: POSTGRES_HOST=db
#   → compose.{dev,prod}.yml --profile local-db でローカルDBコンテナが起動
# - Supabase使用時: POSTGRES_HOST=db.[PROJECT_REF].supabase.co
#                    POSTGRES_USER=postgres
#                    POSTGRES_PASSWORD=[YOUR_PASSWORD]
#                    POSTGRES_DB=postgres
#   → db-migratorとdb-dumperは外部DBに接続、ローカルDBコンテナは起動しない

# ========================================
# セッション設定
# ========================================
SESSION_COOKIE_NAME=session_id
SESSION_EXPIRE=86400  # 24時間（秒）

# セッション暗号化キー（Fernet形式）
# 生成方法: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
SESSION_ENCRYPTION_KEY=

# ========================================
# API設定
# ========================================
API_KEY=your_api_key_here
BACKEND_CORS_ORIGINS=

# ========================================
# セキュリティ設定
# ========================================
SECURITY_HEADERS=false
CSP_POLICY=default-src 'self'; img-src 'self' data:; script-src 'self'; style-src 'self'

# ========================================
# モニタリング設定
# ========================================
# Sentry
SENTRY_DSN=
SENTRY_TRACES_SAMPLE_RATE=1.0

# New Relic
NEW_RELIC_LICENSE_KEY=
NEW_RELIC_APP_NAME=FastAPI Template
NEW_RELIC_HIGH_SECURITY=false
NEW_RELIC_MONITOR_MODE=true

# ========================================
# AWS S3設定（オプション）
# ========================================
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
S3_BUCKET_NAME=
